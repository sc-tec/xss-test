
<!DOCTYPE html>
<html>
<head>
  <title>xss-test (Same Domain)</title>
</head>
<body>
  <h1>xss-test (Same Domain)</h1>
  <hr/>
  <div>
    <code>&lt;input type="text" id="demo1" value="demo1"/&gt;</code>
  </div>
  <div>
    <input type="text" id="demo1" value="demo1" style="width:350px"/>
  </div>
  <hr/>
  <div>
    <code>&lt;textarea id="log" style="width:98%;height:100px;"&gt;&lt;/textarea&gt;</code>
  </div>
  <div>
    <textarea id="log" style="width:98%;height:100px;"></textarea>
  </div>
  <hr/>
  <div>
    <br/>
    <a href="https://steven-chong-tec.github.io/xss-test/#Same Domain" target="_blank" onclick="document.getElementById('demo1').value='demo1'" style="color:blue">Open https://steven-chong-tec.github.io/xss-test/ by link</a>
  </div>
  <div>
    <br/>
    <a href="javascript:void(0)" onclick="document.getElementById('demo1').value='demo1';window.open('https://steven-chong-tec.github.io/xss-test/#Same Domain','_blank')" style="color:blue">Open https://steven-chong-tec.github.io/xss-test/ by JavaScript</a>
  </div>
<script>
  window.addEventListener('message', function(evt) {
    document.getElementById('message').value += JSON.stringify(evt) + '\n';

    try {
      var data = JSON.parse(evt.data);
      if ('message' in data) {
        document.getElementById('message').value = data.demo1;
      }
    } catch (ex) {
      document.getElementById('message').value += String(ex) + '\n';
    }
  })
</script>
</body>
</html>
