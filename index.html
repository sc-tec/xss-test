<!DOCTYPE html>
<html>
<head>
  <title>xss-test</title>
<body>
  <h1>xss-test</h1>
  <table border="1" cellspacing="0" cellpadding="5">
    <tbody>
      <script>
function assert(condition, des) {
  var msg = ['<tr><td><code>', des, '</code></td><td>'];
  try {
    msg.push(condition() ? pass : fail);
  } catch (ex) {
    msg.push(fail);
  }
  msg.push('</td></tr>');
  document.write(msg.join(''));
}
var fail = ' <span style="color:red">(fail)</span>';
var pass = ' <span style="color:green">(pass)</span>';
assert(function() { return !!window.opener }, 'opener is defined.');
assert(function() { return !!window.opener.document.getElementById("demo1") }, 'window.opener.document.getElementById("demo1")');
assert(function() { return (window.opener.document.getElementById("demo1").value = "xxxx").value === "xxxx" }, 'window.opener.document.getElementById("demo1").value = "xxxx"');
      </script>
    </tbody>
  </table>
  <div>
    <code>window.opener.postMessage(JSON.stringify({demo1:'xxxx'}),'https://codepen.io')</div>
  </div>
  <button type="button" style="font-size:1.5rem;padding:1rem;" onclick="postXXX()">Post Message to https://codepen.io</button>
  <br/><hr/><br/>
  <textarea id="log" style="width:98%;height:400px;"></textarea>
  <script>
    function postXXX() {
      try {
        window.opener.postMessage(JSON.stringify({demo1:'xxxx'}),'https://codepen.io')
      } catch (ex) {
        document.getElementById('log').value += String(ex) + '\n';
      }
    }
  </script>
</body>
</html>
