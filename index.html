<!DOCTYPE html>
<html>
<head>
  <title>xss-test</title>
  <style>
.fail { color: red; }
.pass { color: green; }
  </style>
</head>
<body>
  <h1>xss-test</h1>
  <table border="1" cellspacing="0" cellpadding="5">
    <tbody>
      <script>
function assert(condition, des, msg) {
  msg.push('<tr><td><code>');
  msg.push(des);
  msg.push('</code></td><td>');
  try {
    msg.push(condition() ? pass : fail);
  } catch (ex) {
    msg.push(fail);
  }
  msg.push('</td></tr>');
}
var fail = ' <span class="fail">(fail)</span>';
var pass = ' <span class="pass">(pass)</span>';
assert(function() { return typeof opener !== 'undefined' }, 'opener is defined.', output);
assert(function() { return !!window.opener.document.getElementById("demo1") }, 'window.opener.document.getElementById("demo1")', output);
assert(function() { return (window.opener.document.getElementById("demo1") = "xxxx") === "xxxx" }, 'window.opener.document.getElementById("demo1").value = "xxxx"', output);
document.write(output.join(''));
      </script>
    </tbody>
  </table>
</body>
</html>
